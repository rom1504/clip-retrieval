/*! For license information please see main.16f67040.js.LICENSE.txt */
(()=>{var t={13:(t,e,i)=>{var r=i(372).stringify,s=i(146);t.exports=function(t){return{parse:s(t),stringify:r}},t.exports.parse=s(),t.exports.stringify=r},146:(t,e,i)=>{var r=null;const s=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,n=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;t.exports=function(t){"use strict";var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=t){if(!0===t.strict&&(e.strict=!0),!0===t.storeAsString&&(e.storeAsString=!0),e.alwaysParseAsBig=!0===t.alwaysParseAsBig&&t.alwaysParseAsBig,e.useNativeBigInt=!0===t.useNativeBigInt&&t.useNativeBigInt,void 0!==t.constructorAction){if("error"!==t.constructorAction&&"ignore"!==t.constructorAction&&"preserve"!==t.constructorAction)throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${t.constructorAction}`);e.constructorAction=t.constructorAction}if(void 0!==t.protoAction){if("error"!==t.protoAction&&"ignore"!==t.protoAction&&"preserve"!==t.protoAction)throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${t.protoAction}`);e.protoAction=t.protoAction}}var o,a,l,c,h={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=function(t){throw{name:"SyntaxError",message:t,at:o,text:l}},d=function(t){return t&&t!==a&&u("Expected '"+t+"' instead of '"+a+"'"),a=l.charAt(o),o+=1,a},p=function(){var t,s="";for("-"===a&&(s="-",d("-"));a>="0"&&a<="9";)s+=a,d();if("."===a)for(s+=".";d()&&a>="0"&&a<="9";)s+=a;if("e"===a||"E"===a)for(s+=a,d(),"-"!==a&&"+"!==a||(s+=a,d());a>="0"&&a<="9";)s+=a,d();if(t=+s,isFinite(t))return null==r&&(r=i(594)),s.length>15?e.storeAsString?s:e.useNativeBigInt?BigInt(s):new r(s):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(t):new r(t):t;u("Bad number")},f=function(){var t,e,i,r="";if('"'===a)for(var s=o;d();){if('"'===a)return o-1>s&&(r+=l.substring(s,o-1)),d(),r;if("\\"===a){if(o-1>s&&(r+=l.substring(s,o-1)),d(),"u"===a){for(i=0,e=0;e<4&&(t=parseInt(d(),16),isFinite(t));e+=1)i=16*i+t;r+=String.fromCharCode(i)}else{if("string"!=typeof h[a])break;r+=h[a]}s=o}}u("Bad string")},g=function(){for(;a&&a<=" ";)d()};return c=function(){switch(g(),a){case"{":return function(){var t,i=Object.create(null);if("{"===a){if(d("{"),g(),"}"===a)return d("}"),i;for(;a;){if(t=f(),g(),d(":"),!0===e.strict&&Object.hasOwnProperty.call(i,t)&&u('Duplicate key "'+t+'"'),!0===s.test(t)?"error"===e.protoAction?u("Object contains forbidden prototype property"):"ignore"===e.protoAction?c():i[t]=c():!0===n.test(t)?"error"===e.constructorAction?u("Object contains forbidden constructor property"):"ignore"===e.constructorAction?c():i[t]=c():i[t]=c(),g(),"}"===a)return d("}"),i;d(","),g()}}u("Bad object")}();case"[":return function(){var t=[];if("["===a){if(d("["),g(),"]"===a)return d("]"),t;for(;a;){if(t.push(c()),g(),"]"===a)return d("]"),t;d(","),g()}}u("Bad array")}();case'"':return f();case"-":return p();default:return a>="0"&&a<="9"?p():function(){switch(a){case"t":return d("t"),d("r"),d("u"),d("e"),!0;case"f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case"n":return d("n"),d("u"),d("l"),d("l"),null}u("Unexpected '"+a+"'")}()}},function(t,e){var i;return l=t+"",o=0,a=" ",i=c(),g(),a&&u("Syntax error"),"function"==typeof e?function t(i,r){var s,n=i[r];return n&&"object"==typeof n&&Object.keys(n).forEach(function(e){void 0!==(s=t(n,e))?n[e]=s:delete n[e]}),e.call(i,r,n)}({"":i},""):i}}},372:(t,e,i)=>{var r=i(594),s=t.exports;!function(){"use strict";var t,e,i,n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(t){return n.lastIndex=0,n.test(t)?'"'+t.replace(n,function(t){var e=o[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function l(s,n){var o,c,h,u,d,p=t,f=n[s],g=null!=f&&(f instanceof r||r.isBigNumber(f));switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(s)),"function"==typeof i&&(f=i.call(n,s,f)),typeof f){case"string":return g?f:a(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":case"bigint":return String(f);case"object":if(!f)return"null";if(t+=e,d=[],"[object Array]"===Object.prototype.toString.apply(f)){for(u=f.length,o=0;o<u;o+=1)d[o]=l(o,f)||"null";return h=0===d.length?"[]":t?"[\n"+t+d.join(",\n"+t)+"\n"+p+"]":"["+d.join(",")+"]",t=p,h}if(i&&"object"==typeof i)for(u=i.length,o=0;o<u;o+=1)"string"==typeof i[o]&&(h=l(c=i[o],f))&&d.push(a(c)+(t?": ":":")+h);else Object.keys(f).forEach(function(e){var i=l(e,f);i&&d.push(a(e)+(t?": ":":")+i)});return h=0===d.length?"{}":t?"{\n"+t+d.join(",\n"+t)+"\n"+p+"}":"{"+d.join(",")+"}",t=p,h}}"function"!=typeof s.stringify&&(s.stringify=function(r,s,n){var o;if(t="",e="","number"==typeof n)for(o=0;o<n;o+=1)e+=" ";else"string"==typeof n&&(e=n);if(i=s,s&&"function"!=typeof s&&("object"!=typeof s||"number"!=typeof s.length))throw new Error("JSON.stringify");return l("",{"":r})})}()},594:function(t,e,i){var r;!function(){"use strict";var s,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,a=Math.floor,l="[BigNumber Error] ",c=l+"Number primitive has more than 15 significant digits: ",h=1e14,u=14,d=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,g=1e9;function m(t){var e=0|t;return t>0||t===e?e:e-1}function v(t){for(var e,i,r=1,s=t.length,n=t[0]+"";r<s;){for(e=t[r++]+"",i=u-e.length;i--;e="0"+e);n+=e}for(s=n.length;48===n.charCodeAt(--s););return n.slice(0,s+1||1)}function y(t,e){var i,r,s=t.c,n=e.c,o=t.s,a=e.s,l=t.e,c=e.e;if(!o||!a)return null;if(i=s&&!s[0],r=n&&!n[0],i||r)return i?r?0:-a:o;if(o!=a)return o;if(i=o<0,r=l==c,!s||!n)return r?0:!s^i?1:-1;if(!r)return l>c^i?1:-1;for(a=(l=s.length)<(c=n.length)?l:c,o=0;o<a;o++)if(s[o]!=n[o])return s[o]>n[o]^i?1:-1;return l==c?0:l>c^i?1:-1}function b(t,e,i,r){if(t<e||t>i||t!==a(t))throw Error(l+(r||"Argument")+("number"==typeof t?t<e||t>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function $(t){var e=t.c.length-1;return m(t.e/u)==e&&t.c[e]%2!=0}function w(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function _(t,e,i){var r,s;if(e<0){for(s=i+".";++e;s+=i);t=s+t}else if(++e>(r=t.length)){for(s=i,e-=r;--e;s+=i);t+=s}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}s=function t(e){var i,r,s,A,x,S,E,k,C,I,O=V.prototype={constructor:V,toString:null,valueOf:null},N=new V(1),U=20,M=4,B=-7,P=21,R=-1e7,T=1e7,D=!1,H=1,L=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},F="0123456789abcdefghijklmnopqrstuvwxyz",z=!0;function V(t,e){var i,o,l,h,p,f,g,m,v=this;if(!(v instanceof V))return new V(t,e);if(null==e){if(t&&!0===t._isBigNumber)return v.s=t.s,void(!t.c||t.e>T?v.c=v.e=null:t.e<R?v.c=[v.e=0]:(v.e=t.e,v.c=t.c.slice()));if((f="number"==typeof t)&&0*t==0){if(v.s=1/t<0?(t=-t,-1):1,t===~~t){for(h=0,p=t;p>=10;p/=10,h++);return void(h>T?v.c=v.e=null:(v.e=h,v.c=[t]))}m=String(t)}else{if(!n.test(m=String(t)))return s(v,m,f);v.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(h=m.indexOf("."))>-1&&(m=m.replace(".","")),(p=m.search(/e/i))>0?(h<0&&(h=p),h+=+m.slice(p+1),m=m.substring(0,p)):h<0&&(h=m.length)}else{if(b(e,2,F.length,"Base"),10==e&&z)return J(v=new V(t),U+v.e+1,M);if(m=String(t),f="number"==typeof t){if(0*t!=0)return s(v,m,f,e);if(v.s=1/t<0?(m=m.slice(1),-1):1,V.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(c+t)}else v.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(i=F.slice(0,e),h=p=0,g=m.length;p<g;p++)if(i.indexOf(o=m.charAt(p))<0){if("."==o){if(p>h){h=g;continue}}else if(!l&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){l=!0,p=-1,h=0;continue}return s(v,String(t),f,e)}f=!1,(h=(m=r(m,e,10,v.s)).indexOf("."))>-1?m=m.replace(".",""):h=m.length}for(p=0;48===m.charCodeAt(p);p++);for(g=m.length;48===m.charCodeAt(--g););if(m=m.slice(p,++g)){if(g-=p,f&&V.DEBUG&&g>15&&(t>d||t!==a(t)))throw Error(c+v.s*t);if((h=h-p-1)>T)v.c=v.e=null;else if(h<R)v.c=[v.e=0];else{if(v.e=h,v.c=[],p=(h+1)%u,h<0&&(p+=u),p<g){for(p&&v.c.push(+m.slice(0,p)),g-=u;p<g;)v.c.push(+m.slice(p,p+=u));p=u-(m=m.slice(p)).length}else p-=g;for(;p--;m+="0");v.c.push(+m)}}else v.c=[v.e=0]}function G(t,e,i,r){var s,n,o,a,l;if(null==i?i=M:b(i,0,8),!t.c)return t.toString();if(s=t.c[0],o=t.e,null==e)l=v(t.c),l=1==r||2==r&&(o<=B||o>=P)?w(l,o):_(l,o,"0");else if(n=(t=J(new V(t),e,i)).e,a=(l=v(t.c)).length,1==r||2==r&&(e<=n||n<=B)){for(;a<e;l+="0",a++);l=w(l,n)}else if(e-=o+(2===r&&n>o),l=_(l,n,"0"),n+1>a){if(--e>0)for(l+=".";e--;l+="0");}else if((e+=n-a)>0)for(n+1==a&&(l+=".");e--;l+="0");return t.s<0&&s?"-"+l:l}function q(t,e){for(var i,r,s=1,n=new V(t[0]);s<t.length;s++)(!(r=new V(t[s])).s||(i=y(n,r))===e||0===i&&n.s===e)&&(n=r);return n}function W(t,e,i){for(var r=1,s=e.length;!e[--s];e.pop());for(s=e[0];s>=10;s/=10,r++);return(i=r+i*u-1)>T?t.c=t.e=null:i<R?t.c=[t.e=0]:(t.e=i,t.c=e),t}function J(t,e,i,r){var s,n,l,c,d,f,g,m=t.c,v=p;if(m){t:{for(s=1,c=m[0];c>=10;c/=10,s++);if((n=e-s)<0)n+=u,l=e,d=m[f=0],g=a(d/v[s-l-1]%10);else if((f=o((n+1)/u))>=m.length){if(!r)break t;for(;m.length<=f;m.push(0));d=g=0,s=1,l=(n%=u)-u+1}else{for(d=c=m[f],s=1;c>=10;c/=10,s++);g=(l=(n%=u)-u+s)<0?0:a(d/v[s-l-1]%10)}if(r=r||e<0||null!=m[f+1]||(l<0?d:d%v[s-l-1]),r=i<4?(g||r)&&(0==i||i==(t.s<0?3:2)):g>5||5==g&&(4==i||r||6==i&&(n>0?l>0?d/v[s-l]:0:m[f-1])%10&1||i==(t.s<0?8:7)),e<1||!m[0])return m.length=0,r?(e-=t.e+1,m[0]=v[(u-e%u)%u],t.e=-e||0):m[0]=t.e=0,t;if(0==n?(m.length=f,c=1,f--):(m.length=f+1,c=v[u-n],m[f]=l>0?a(d/v[s-l]%v[l])*c:0),r)for(;;){if(0==f){for(n=1,l=m[0];l>=10;l/=10,n++);for(l=m[0]+=c,c=1;l>=10;l/=10,c++);n!=c&&(t.e++,m[0]==h&&(m[0]=1));break}if(m[f]+=c,m[f]!=h)break;m[f--]=0,c=1}for(n=m.length;0===m[--n];m.pop());}t.e>T?t.c=t.e=null:t.e<R&&(t.c=[t.e=0])}return t}function Y(t){var e,i=t.e;return null===i?t.toString():(e=v(t.c),e=i<=B||i>=P?w(e,i):_(e,i,"0"),t.s<0?"-"+e:e)}return V.clone=t,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(t){var e,i;if(null!=t){if("object"!=typeof t)throw Error(l+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(b(i=t[e],0,g,e),U=i),t.hasOwnProperty(e="ROUNDING_MODE")&&(b(i=t[e],0,8,e),M=i),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((i=t[e])&&i.pop?(b(i[0],-g,0,e),b(i[1],0,g,e),B=i[0],P=i[1]):(b(i,-g,g,e),B=-(P=i<0?-i:i))),t.hasOwnProperty(e="RANGE"))if((i=t[e])&&i.pop)b(i[0],-g,-1,e),b(i[1],1,g,e),R=i[0],T=i[1];else{if(b(i,-g,g,e),!i)throw Error(l+e+" cannot be zero: "+i);R=-(T=i<0?-i:i)}if(t.hasOwnProperty(e="CRYPTO")){if((i=t[e])!==!!i)throw Error(l+e+" not true or false: "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw D=!i,Error(l+"crypto unavailable");D=i}else D=i}if(t.hasOwnProperty(e="MODULO_MODE")&&(b(i=t[e],0,9,e),H=i),t.hasOwnProperty(e="POW_PRECISION")&&(b(i=t[e],0,g,e),L=i),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(i=t[e]))throw Error(l+e+" not an object: "+i);j=i}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(i=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(i))throw Error(l+e+" invalid: "+i);z="0123456789"==i.slice(0,10),F=i}}return{DECIMAL_PLACES:U,ROUNDING_MODE:M,EXPONENTIAL_AT:[B,P],RANGE:[R,T],CRYPTO:D,MODULO_MODE:H,POW_PRECISION:L,FORMAT:j,ALPHABET:F}},V.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!V.DEBUG)return!0;var e,i,r=t.c,s=t.e,n=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===n||-1===n)&&s>=-g&&s<=g&&s===a(s)){if(0===r[0]){if(0===s&&1===r.length)return!0;break t}if((e=(s+1)%u)<1&&(e+=u),String(r[0]).length==e){for(e=0;e<r.length;e++)if((i=r[e])<0||i>=h||i!==a(i))break t;if(0!==i)return!0}}}else if(null===r&&null===s&&(null===n||1===n||-1===n))return!0;throw Error(l+"Invalid BigNumber: "+t)},V.maximum=V.max=function(){return q(arguments,-1)},V.minimum=V.min=function(){return q(arguments,1)},V.random=(A=9007199254740992,x=Math.random()*A&2097151?function(){return a(Math.random()*A)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,i,r,s,n,c=0,h=[],d=new V(N);if(null==t?t=U:b(t,0,g),s=o(t/u),D)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(s*=2));c<s;)(n=131072*e[c]+(e[c+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),e[c]=i[0],e[c+1]=i[1]):(h.push(n%1e14),c+=2);c=s/2}else{if(!crypto.randomBytes)throw D=!1,Error(l+"crypto unavailable");for(e=crypto.randomBytes(s*=7);c<s;)(n=281474976710656*(31&e[c])+1099511627776*e[c+1]+4294967296*e[c+2]+16777216*e[c+3]+(e[c+4]<<16)+(e[c+5]<<8)+e[c+6])>=9e15?crypto.randomBytes(7).copy(e,c):(h.push(n%1e14),c+=7);c=s/7}if(!D)for(;c<s;)(n=x())<9e15&&(h[c++]=n%1e14);for(s=h[--c],t%=u,s&&t&&(n=p[u-t],h[c]=a(s/n)*n);0===h[c];h.pop(),c--);if(c<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=u);for(c=1,n=h[0];n>=10;n/=10,c++);c<u&&(r-=u-c)}return d.e=r,d.c=h,d}),V.sum=function(){for(var t=1,e=arguments,i=new V(e[0]);t<e.length;)i=i.plus(e[t++]);return i},r=function(){var t="0123456789";function e(t,e,i,r){for(var s,n,o=[0],a=0,l=t.length;a<l;){for(n=o.length;n--;o[n]*=e);for(o[0]+=r.indexOf(t.charAt(a++)),s=0;s<o.length;s++)o[s]>i-1&&(null==o[s+1]&&(o[s+1]=0),o[s+1]+=o[s]/i|0,o[s]%=i)}return o.reverse()}return function(r,s,n,o,a){var l,c,h,u,d,p,f,g,m=r.indexOf("."),y=U,b=M;for(m>=0&&(u=L,L=0,r=r.replace(".",""),p=(g=new V(s)).pow(r.length-m),L=u,g.c=e(_(v(p.c),p.e,"0"),10,n,t),g.e=g.c.length),h=u=(f=e(r,s,n,a?(l=F,t):(l=t,F))).length;0==f[--u];f.pop());if(!f[0])return l.charAt(0);if(m<0?--h:(p.c=f,p.e=h,p.s=o,f=(p=i(p,g,y,b,n)).c,d=p.r,h=p.e),m=f[c=h+y+1],u=n/2,d=d||c<0||null!=f[c+1],d=b<4?(null!=m||d)&&(0==b||b==(p.s<0?3:2)):m>u||m==u&&(4==b||d||6==b&&1&f[c-1]||b==(p.s<0?8:7)),c<1||!f[0])r=d?_(l.charAt(1),-y,l.charAt(0)):l.charAt(0);else{if(f.length=c,d)for(--n;++f[--c]>n;)f[c]=0,c||(++h,f=[1].concat(f));for(u=f.length;!f[--u];);for(m=0,r="";m<=u;r+=l.charAt(f[m++]));r=_(r,h,l.charAt(0))}return r}}(),i=function(){function t(t,e,i){var r,s,n,o,a=0,l=t.length,c=e%f,h=e/f|0;for(t=t.slice();l--;)a=((s=c*(n=t[l]%f)+(r=h*n+(o=t[l]/f|0)*c)%f*f+a)/i|0)+(r/f|0)+h*o,t[l]=s%i;return a&&(t=[a].concat(t)),t}function e(t,e,i,r){var s,n;if(i!=r)n=i>r?1:-1;else for(s=n=0;s<i;s++)if(t[s]!=e[s]){n=t[s]>e[s]?1:-1;break}return n}function i(t,e,i,r){for(var s=0;i--;)t[i]-=s,s=t[i]<e[i]?1:0,t[i]=s*r+t[i]-e[i];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,s,n,o,l){var c,d,p,f,g,v,y,b,$,w,_,A,x,S,E,k,C,I=r.s==s.s?1:-1,O=r.c,N=s.c;if(!(O&&O[0]&&N&&N[0]))return new V(r.s&&s.s&&(O?!N||O[0]!=N[0]:N)?O&&0==O[0]||!N?0*I:I/0:NaN);for($=(b=new V(I)).c=[],I=n+(d=r.e-s.e)+1,l||(l=h,d=m(r.e/u)-m(s.e/u),I=I/u|0),p=0;N[p]==(O[p]||0);p++);if(N[p]>(O[p]||0)&&d--,I<0)$.push(1),f=!0;else{for(S=O.length,k=N.length,p=0,I+=2,(g=a(l/(N[0]+1)))>1&&(N=t(N,g,l),O=t(O,g,l),k=N.length,S=O.length),x=k,_=(w=O.slice(0,k)).length;_<k;w[_++]=0);C=N.slice(),C=[0].concat(C),E=N[0],N[1]>=l/2&&E++;do{if(g=0,(c=e(N,w,k,_))<0){if(A=w[0],k!=_&&(A=A*l+(w[1]||0)),(g=a(A/E))>1)for(g>=l&&(g=l-1),y=(v=t(N,g,l)).length,_=w.length;1==e(v,w,y,_);)g--,i(v,k<y?C:N,y,l),y=v.length,c=1;else 0==g&&(c=g=1),y=(v=N.slice()).length;if(y<_&&(v=[0].concat(v)),i(w,v,_,l),_=w.length,-1==c)for(;e(N,w,k,_)<1;)g++,i(w,k<_?C:N,_,l),_=w.length}else 0===c&&(g++,w=[0]);$[p++]=g,w[0]?w[_++]=O[x]||0:(w=[O[x]],_=1)}while((x++<S||null!=w[0])&&I--);f=null!=w[0],$[0]||$.splice(0,1)}if(l==h){for(p=1,I=$[0];I>=10;I/=10,p++);J(b,n+(b.e=p+d*u-1)+1,o,f)}else b.e=d,b.r=+f;return b}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,E=/^([^.]+)\.$/,k=/^\.([^.]+)$/,C=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,s=function(t,e,i,r){var s,n=i?e:e.replace(I,"");if(C.test(n))t.s=isNaN(n)?null:n<0?-1:1;else{if(!i&&(n=n.replace(S,function(t,e,i){return s="x"==(i=i.toLowerCase())?16:"b"==i?2:8,r&&r!=s?t:e}),r&&(s=r,n=n.replace(E,"$1").replace(k,"0.$1")),e!=n))return new V(n,s);if(V.DEBUG)throw Error(l+"Not a"+(r?" base "+r:"")+" number: "+e);t.s=null}t.c=t.e=null},O.absoluteValue=O.abs=function(){var t=new V(this);return t.s<0&&(t.s=1),t},O.comparedTo=function(t,e){return y(this,new V(t,e))},O.decimalPlaces=O.dp=function(t,e){var i,r,s,n=this;if(null!=t)return b(t,0,g),null==e?e=M:b(e,0,8),J(new V(n),t+n.e+1,e);if(!(i=n.c))return null;if(r=((s=i.length-1)-m(this.e/u))*u,s=i[s])for(;s%10==0;s/=10,r--);return r<0&&(r=0),r},O.dividedBy=O.div=function(t,e){return i(this,new V(t,e),U,M)},O.dividedToIntegerBy=O.idiv=function(t,e){return i(this,new V(t,e),0,1)},O.exponentiatedBy=O.pow=function(t,e){var i,r,s,n,c,h,d,p,f=this;if((t=new V(t)).c&&!t.isInteger())throw Error(l+"Exponent not an integer: "+Y(t));if(null!=e&&(e=new V(e)),c=t.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!t.c||!t.c[0])return p=new V(Math.pow(+Y(f),c?t.s*(2-$(t)):+Y(t))),e?p.mod(e):p;if(h=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new V(NaN);(r=!h&&f.isInteger()&&e.isInteger())&&(f=f.mod(e))}else{if(t.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||c&&f.c[1]>=24e7:f.c[0]<8e13||c&&f.c[0]<=9999975e7)))return n=f.s<0&&$(t)?-0:0,f.e>-1&&(n=1/n),new V(h?1/n:n);L&&(n=o(L/u+2))}for(c?(i=new V(.5),h&&(t.s=1),d=$(t)):d=(s=Math.abs(+Y(t)))%2,p=new V(N);;){if(d){if(!(p=p.times(f)).c)break;n?p.c.length>n&&(p.c.length=n):r&&(p=p.mod(e))}if(s){if(0===(s=a(s/2)))break;d=s%2}else if(J(t=t.times(i),t.e+1,1),t.e>14)d=$(t);else{if(0===(s=+Y(t)))break;d=s%2}f=f.times(f),n?f.c&&f.c.length>n&&(f.c.length=n):r&&(f=f.mod(e))}return r?p:(h&&(p=N.div(p)),e?p.mod(e):n?J(p,L,M,void 0):p)},O.integerValue=function(t){var e=new V(this);return null==t?t=M:b(t,0,8),J(e,e.e+1,t)},O.isEqualTo=O.eq=function(t,e){return 0===y(this,new V(t,e))},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(t,e){return y(this,new V(t,e))>0},O.isGreaterThanOrEqualTo=O.gte=function(t,e){return 1===(e=y(this,new V(t,e)))||0===e},O.isInteger=function(){return!!this.c&&m(this.e/u)>this.c.length-2},O.isLessThan=O.lt=function(t,e){return y(this,new V(t,e))<0},O.isLessThanOrEqualTo=O.lte=function(t,e){return-1===(e=y(this,new V(t,e)))||0===e},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.minus=function(t,e){var i,r,s,n,o=this,a=o.s;if(e=(t=new V(t,e)).s,!a||!e)return new V(NaN);if(a!=e)return t.s=-e,o.plus(t);var l=o.e/u,c=t.e/u,d=o.c,p=t.c;if(!l||!c){if(!d||!p)return d?(t.s=-e,t):new V(p?o:NaN);if(!d[0]||!p[0])return p[0]?(t.s=-e,t):new V(d[0]?o:3==M?-0:0)}if(l=m(l),c=m(c),d=d.slice(),a=l-c){for((n=a<0)?(a=-a,s=d):(c=l,s=p),s.reverse(),e=a;e--;s.push(0));s.reverse()}else for(r=(n=(a=d.length)<(e=p.length))?a:e,a=e=0;e<r;e++)if(d[e]!=p[e]){n=d[e]<p[e];break}if(n&&(s=d,d=p,p=s,t.s=-t.s),(e=(r=p.length)-(i=d.length))>0)for(;e--;d[i++]=0);for(e=h-1;r>a;){if(d[--r]<p[r]){for(i=r;i&&!d[--i];d[i]=e);--d[i],d[r]+=h}d[r]-=p[r]}for(;0==d[0];d.splice(0,1),--c);return d[0]?W(t,d,c):(t.s=3==M?-1:1,t.c=[t.e=0],t)},O.modulo=O.mod=function(t,e){var r,s,n=this;return t=new V(t,e),!n.c||!t.s||t.c&&!t.c[0]?new V(NaN):!t.c||n.c&&!n.c[0]?new V(n):(9==H?(s=t.s,t.s=1,r=i(n,t,0,3),t.s=s,r.s*=s):r=i(n,t,0,H),(t=n.minus(r.times(t))).c[0]||1!=H||(t.s=n.s),t)},O.multipliedBy=O.times=function(t,e){var i,r,s,n,o,a,l,c,d,p,g,v,y,b,$,w=this,_=w.c,A=(t=new V(t,e)).c;if(!(_&&A&&_[0]&&A[0]))return!w.s||!t.s||_&&!_[0]&&!A||A&&!A[0]&&!_?t.c=t.e=t.s=null:(t.s*=w.s,_&&A?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=m(w.e/u)+m(t.e/u),t.s*=w.s,(l=_.length)<(p=A.length)&&(y=_,_=A,A=y,s=l,l=p,p=s),s=l+p,y=[];s--;y.push(0));for(b=h,$=f,s=p;--s>=0;){for(i=0,g=A[s]%$,v=A[s]/$|0,n=s+(o=l);n>s;)i=((c=g*(c=_[--o]%$)+(a=v*c+(d=_[o]/$|0)*g)%$*$+y[n]+i)/b|0)+(a/$|0)+v*d,y[n--]=c%b;y[n]=i}return i?++r:y.splice(0,1),W(t,y,r)},O.negated=function(){var t=new V(this);return t.s=-t.s||null,t},O.plus=function(t,e){var i,r=this,s=r.s;if(e=(t=new V(t,e)).s,!s||!e)return new V(NaN);if(s!=e)return t.s=-e,r.minus(t);var n=r.e/u,o=t.e/u,a=r.c,l=t.c;if(!n||!o){if(!a||!l)return new V(s/0);if(!a[0]||!l[0])return l[0]?t:new V(a[0]?r:0*s)}if(n=m(n),o=m(o),a=a.slice(),s=n-o){for(s>0?(o=n,i=l):(s=-s,i=a),i.reverse();s--;i.push(0));i.reverse()}for((s=a.length)-(e=l.length)<0&&(i=l,l=a,a=i,e=s),s=0;e;)s=(a[--e]=a[e]+l[e]+s)/h|0,a[e]=h===a[e]?0:a[e]%h;return s&&(a=[s].concat(a),++o),W(t,a,o)},O.precision=O.sd=function(t,e){var i,r,s,n=this;if(null!=t&&t!==!!t)return b(t,1,g),null==e?e=M:b(e,0,8),J(new V(n),t,e);if(!(i=n.c))return null;if(r=(s=i.length-1)*u+1,s=i[s]){for(;s%10==0;s/=10,r--);for(s=i[0];s>=10;s/=10,r++);}return t&&n.e+1>r&&(r=n.e+1),r},O.shiftedBy=function(t){return b(t,-9007199254740991,d),this.times("1e"+t)},O.squareRoot=O.sqrt=function(){var t,e,r,s,n,o=this,a=o.c,l=o.s,c=o.e,h=U+4,u=new V("0.5");if(1!==l||!a||!a[0])return new V(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(l=Math.sqrt(+Y(o)))||l==1/0?(((e=v(a)).length+c)%2==0&&(e+="0"),l=Math.sqrt(+e),c=m((c+1)/2)-(c<0||c%2),r=new V(e=l==1/0?"5e"+c:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+c)):r=new V(l+""),r.c[0])for((l=(c=r.e)+h)<3&&(l=0);;)if(n=r,r=u.times(n.plus(i(o,n,h,1))),v(n.c).slice(0,l)===(e=v(r.c)).slice(0,l)){if(r.e<c&&--l,"9999"!=(e=e.slice(l-3,l+1))&&(s||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(J(r,r.e+U+2,1),t=!r.times(r).eq(o));break}if(!s&&(J(n,n.e+U+2,0),n.times(n).eq(o))){r=n;break}h+=4,l+=4,s=1}return J(r,r.e+U+1,M,t)},O.toExponential=function(t,e){return null!=t&&(b(t,0,g),t++),G(this,t,e,1)},O.toFixed=function(t,e){return null!=t&&(b(t,0,g),t=t+this.e+1),G(this,t,e)},O.toFormat=function(t,e,i){var r,s=this;if(null==i)null!=t&&e&&"object"==typeof e?(i=e,e=null):t&&"object"==typeof t?(i=t,t=e=null):i=j;else if("object"!=typeof i)throw Error(l+"Argument not an object: "+i);if(r=s.toFixed(t,e),s.c){var n,o=r.split("."),a=+i.groupSize,c=+i.secondaryGroupSize,h=i.groupSeparator||"",u=o[0],d=o[1],p=s.s<0,f=p?u.slice(1):u,g=f.length;if(c&&(n=a,a=c,c=n,g-=n),a>0&&g>0){for(n=g%a||a,u=f.substr(0,n);n<g;n+=a)u+=h+f.substr(n,a);c>0&&(u+=h+f.slice(n)),p&&(u="-"+u)}r=d?u+(i.decimalSeparator||"")+((c=+i.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):d):u}return(i.prefix||"")+r+(i.suffix||"")},O.toFraction=function(t){var e,r,s,n,o,a,c,h,d,f,g,m,y=this,b=y.c;if(null!=t&&(!(c=new V(t)).isInteger()&&(c.c||1!==c.s)||c.lt(N)))throw Error(l+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Y(c));if(!b)return new V(y);for(e=new V(N),d=r=new V(N),s=h=new V(N),m=v(b),o=e.e=m.length-y.e-1,e.c[0]=p[(a=o%u)<0?u+a:a],t=!t||c.comparedTo(e)>0?o>0?e:d:c,a=T,T=1/0,c=new V(m),h.c[0]=0;f=i(c,e,0,1),1!=(n=r.plus(f.times(s))).comparedTo(t);)r=s,s=n,d=h.plus(f.times(n=d)),h=n,e=c.minus(f.times(n=e)),c=n;return n=i(t.minus(r),s,0,1),h=h.plus(n.times(d)),r=r.plus(n.times(s)),h.s=d.s=y.s,g=i(d,s,o*=2,M).minus(y).abs().comparedTo(i(h,r,o,M).minus(y).abs())<1?[d,s]:[h,r],T=a,g},O.toNumber=function(){return+Y(this)},O.toPrecision=function(t,e){return null!=t&&b(t,1,g),G(this,t,e,2)},O.toString=function(t){var e,i=this,s=i.s,n=i.e;return null===n?s?(e="Infinity",s<0&&(e="-"+e)):e="NaN":(null==t?e=n<=B||n>=P?w(v(i.c),n):_(v(i.c),n,"0"):10===t&&z?e=_(v((i=J(new V(i),U+n+1,M)).c),i.e,"0"):(b(t,2,F.length,"Base"),e=r(_(v(i.c),n,"0"),10,t,s,!0)),s<0&&i.c[0]&&(e="-"+e)),e},O.valueOf=O.toJSON=function(){return Y(this)},O._isBigNumber=!0,null!=e&&V.set(e),V}(),s.default=s.BigNumber=s,void 0===(r=function(){return s}.call(e,i,e,t))||(t.exports=r)}()}},e={};function i(r){var s=e[r];if(void 0!==s)return s.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=window,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,r=Symbol(),s=new WeakMap;class n{constructor(t,e,i){if(this._$cssResult$=!0,i!==r)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const i=this.t;if(e&&void 0===t){const e=void 0!==i&&1===i.length;e&&(t=s.get(i)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&s.set(i,t))}return t}toString(){return this.cssText}}const o=(t,...e)=>{const i=1===t.length?t[0]:e.reduce((e,i,r)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[r+1],t[0]);return new n(i,t,r)},a=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new n("string"==typeof t?t:t+"",void 0,r))(e)})(t):t;var l;const c=window,h=c.trustedTypes,u=h?h.emptyScript:"",d=c.reactiveElementPolyfillSupport,p={toAttribute(t,e){switch(e){case Boolean:t=t?u:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,e)=>e!==t&&(e==e||t==t),g={attribute:!0,type:String,converter:p,reflect:!1,hasChanged:f},m="finalized";class v extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach((e,i)=>{const r=this._$Ep(i,e);void 0!==r&&(this._$Ev.set(r,i),t.push(r))}),t}static createProperty(t,e=g){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const i="symbol"==typeof t?Symbol():"__"+t,r=this.getPropertyDescriptor(t,i,e);void 0!==r&&Object.defineProperty(this.prototype,t,r)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(r){const s=this[t];this[e]=r,this.requestUpdate(t,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||g}static finalize(){if(this.hasOwnProperty(m))return!1;this[m]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(a(t))}else void 0!==t&&e.push(a(t));return e}static _$Ep(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach(t=>t(this))}addController(t){var e,i;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])})}createRenderRoot(){var i;const r=null!==(i=this.shadowRoot)&&void 0!==i?i:this.attachShadow(this.constructor.shadowRootOptions);return((i,r)=>{e?i.adoptedStyleSheets=r.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):r.forEach(e=>{const r=document.createElement("style"),s=t.litNonce;void 0!==s&&r.setAttribute("nonce",s),r.textContent=e.cssText,i.appendChild(r)})})(r,this.constructor.elementStyles),r}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach(t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)})}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach(t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)})}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EO(t,e,i=g){var r;const s=this.constructor._$Ep(t,i);if(void 0!==s&&!0===i.reflect){const n=(void 0!==(null===(r=i.converter)||void 0===r?void 0:r.toAttribute)?i.converter:p).toAttribute(e,i.type);this._$El=t,null==n?this.removeAttribute(s):this.setAttribute(s,n),this._$El=null}}_$AK(t,e){var i;const r=this.constructor,s=r._$Ev.get(t);if(void 0!==s&&this._$El!==s){const t=r.getPropertyOptions(s),n="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(i=t.converter)||void 0===i?void 0:i.fromAttribute)?t.converter:p;this._$El=s,this[s]=n.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,i){let r=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||f)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,i))):r=!1),!this.isUpdatePending&&r&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((t,e)=>this[e]=t),this._$Ei=void 0);let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$ES)||void 0===t||t.forEach(t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)}),this.update(i)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach(t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach((t,e)=>this._$EO(e,this[e],t)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}var y;v[m]=!0,v.elementProperties=new Map,v.elementStyles=[],v.shadowRootOptions={mode:"open"},null==d||d({ReactiveElement:v}),(null!==(l=c.reactiveElementVersions)&&void 0!==l?l:c.reactiveElementVersions=[]).push("1.6.3");const b=window,$=b.trustedTypes,w=$?$.createPolicy("lit-html",{createHTML:t=>t}):void 0,_="$lit$",A=`lit$${(Math.random()+"").slice(9)}$`,x="?"+A,S=`<${x}>`,E=document,k=()=>E.createComment(""),C=t=>null===t||"object"!=typeof t&&"function"!=typeof t,I=Array.isArray,O="[ \t\n\f\r]",N=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,U=/-->/g,M=/>/g,B=RegExp(`>|${O}(?:([^\\s"'>=/]+)(${O}*=${O}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),P=/'/g,R=/"/g,T=/^(?:script|style|textarea|title)$/i,D=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),H=D(1),L=(D(2),Symbol.for("lit-noChange")),j=Symbol.for("lit-nothing"),F=new WeakMap,z=E.createTreeWalker(E,129,null,!1);function V(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==w?w.createHTML(e):e}const G=(t,e)=>{const i=t.length-1,r=[];let s,n=2===e?"<svg>":"",o=N;for(let e=0;e<i;e++){const i=t[e];let a,l,c=-1,h=0;for(;h<i.length&&(o.lastIndex=h,l=o.exec(i),null!==l);)h=o.lastIndex,o===N?"!--"===l[1]?o=U:void 0!==l[1]?o=M:void 0!==l[2]?(T.test(l[2])&&(s=RegExp("</"+l[2],"g")),o=B):void 0!==l[3]&&(o=B):o===B?">"===l[0]?(o=null!=s?s:N,c=-1):void 0===l[1]?c=-2:(c=o.lastIndex-l[2].length,a=l[1],o=void 0===l[3]?B:'"'===l[3]?R:P):o===R||o===P?o=B:o===U||o===M?o=N:(o=B,s=void 0);const u=o===B&&t[e+1].startsWith("/>")?" ":"";n+=o===N?i+S:c>=0?(r.push(a),i.slice(0,c)+_+i.slice(c)+A+u):i+A+(-2===c?(r.push(void 0),e):u)}return[V(t,n+(t[i]||"<?>")+(2===e?"</svg>":"")),r]};class q{constructor({strings:t,_$litType$:e},i){let r;this.parts=[];let s=0,n=0;const o=t.length-1,a=this.parts,[l,c]=G(t,e);if(this.el=q.createElement(l,i),z.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(r=z.nextNode())&&a.length<o;){if(1===r.nodeType){if(r.hasAttributes()){const t=[];for(const e of r.getAttributeNames())if(e.endsWith(_)||e.startsWith(A)){const i=c[n++];if(t.push(e),void 0!==i){const t=r.getAttribute(i.toLowerCase()+_).split(A),e=/([.?@])?(.*)/.exec(i);a.push({type:1,index:s,name:e[2],strings:t,ctor:"."===e[1]?Z:"?"===e[1]?Q:"@"===e[1]?tt:K})}else a.push({type:6,index:s})}for(const e of t)r.removeAttribute(e)}if(T.test(r.tagName)){const t=r.textContent.split(A),e=t.length-1;if(e>0){r.textContent=$?$.emptyScript:"";for(let i=0;i<e;i++)r.append(t[i],k()),z.nextNode(),a.push({type:2,index:++s});r.append(t[e],k())}}}else if(8===r.nodeType)if(r.data===x)a.push({type:2,index:s});else{let t=-1;for(;-1!==(t=r.data.indexOf(A,t+1));)a.push({type:7,index:s}),t+=A.length-1}s++}}static createElement(t,e){const i=E.createElement("template");return i.innerHTML=t,i}}function W(t,e,i=t,r){var s,n,o,a;if(e===L)return e;let l=void 0!==r?null===(s=i._$Co)||void 0===s?void 0:s[r]:i._$Cl;const c=C(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(n=null==l?void 0:l._$AO)||void 0===n||n.call(l,!1),void 0===c?l=void 0:(l=new c(t),l._$AT(t,i,r)),void 0!==r?(null!==(o=(a=i)._$Co)&&void 0!==o?o:a._$Co=[])[r]=l:i._$Cl=l),void 0!==l&&(e=W(t,l._$AS(t,e.values),l,r)),e}class J{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:i},parts:r}=this._$AD,s=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:E).importNode(i,!0);z.currentNode=s;let n=z.nextNode(),o=0,a=0,l=r[0];for(;void 0!==l;){if(o===l.index){let e;2===l.type?e=new Y(n,n.nextSibling,this,t):1===l.type?e=new l.ctor(n,l.name,l.strings,this,t):6===l.type&&(e=new et(n,this,t)),this._$AV.push(e),l=r[++a]}o!==(null==l?void 0:l.index)&&(n=z.nextNode(),o++)}return z.currentNode=E,s}v(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class Y{constructor(t,e,i,r){var s;this.type=2,this._$AH=j,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=r,this._$Cp=null===(s=null==r?void 0:r.isConnected)||void 0===s||s}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=W(this,t,e),C(t)?t===j||null==t||""===t?(this._$AH!==j&&this._$AR(),this._$AH=j):t!==this._$AH&&t!==L&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):(t=>I(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]))(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==j&&C(this._$AH)?this._$AA.nextSibling.data=t:this.$(E.createTextNode(t)),this._$AH=t}g(t){var e;const{values:i,_$litType$:r}=t,s="number"==typeof r?this._$AC(t):(void 0===r.el&&(r.el=q.createElement(V(r.h,r.h[0]),this.options)),r);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===s)this._$AH.v(i);else{const t=new J(s,this),e=t.u(this.options);t.v(i),this.$(e),this._$AH=t}}_$AC(t){let e=F.get(t.strings);return void 0===e&&F.set(t.strings,e=new q(t)),e}T(t){I(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,r=0;for(const s of t)r===e.length?e.push(i=new Y(this.k(k()),this.k(k()),this,this.options)):i=e[r],i._$AI(s),r++;r<e.length&&(this._$AR(i&&i._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class K{constructor(t,e,i,r,s){this.type=1,this._$AH=j,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=s,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=j}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,r){const s=this.strings;let n=!1;if(void 0===s)t=W(this,t,e,0),n=!C(t)||t!==this._$AH&&t!==L,n&&(this._$AH=t);else{const r=t;let o,a;for(t=s[0],o=0;o<s.length-1;o++)a=W(this,r[i+o],e,o),a===L&&(a=this._$AH[o]),n||(n=!C(a)||a!==this._$AH[o]),a===j?t=j:t!==j&&(t+=(null!=a?a:"")+s[o+1]),this._$AH[o]=a}n&&!r&&this.j(t)}j(t){t===j?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Z extends K{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===j?void 0:t}}const X=$?$.emptyScript:"";class Q extends K{constructor(){super(...arguments),this.type=4}j(t){t&&t!==j?this.element.setAttribute(this.name,X):this.element.removeAttribute(this.name)}}class tt extends K{constructor(t,e,i,r,s){super(t,e,i,r,s),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=W(this,t,e,0))&&void 0!==i?i:j)===L)return;const r=this._$AH,s=t===j&&r!==j||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,n=t!==j&&(r===j||s);s&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class et{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){W(this,t)}}const it=b.litHtmlPolyfillSupport;var rt,st;null==it||it(q,Y),(null!==(y=b.litHtmlVersions)&&void 0!==y?y:b.litHtmlVersions=[]).push("2.8.0");class nt extends v{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{var r,s;const n=null!==(r=null==i?void 0:i.renderBefore)&&void 0!==r?r:e;let o=n._$litPart$;if(void 0===o){const t=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:null;n._$litPart$=o=new Y(e.insertBefore(k(),t),t,void 0,null!=i?i:{})}return o._$AI(t),o})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return L}}nt.finalized=!0,nt._$litElement$=!0,null===(rt=globalThis.litElementHydrateSupport)||void 0===rt||rt.call(globalThis,{LitElement:nt});const ot=globalThis.litElementPolyfillSupport;var at;null==ot||ot({LitElement:nt}),(null!==(st=globalThis.litElementVersions)&&void 0!==st?st:globalThis.litElementVersions=[]).push("3.3.3"),null===(at=window.HTMLSlotElement)||void 0===at||at.prototype.assignedElements,console.warn("The main 'lit-element' module entrypoint is deprecated. Please update your imports to use the 'lit' package: 'lit' and 'lit/decorators.ts' or import from 'lit-element/lit-element.ts'. See https://lit.dev/msg/deprecated-import-path for more information.");var lt=i(13),ct=i.n(lt);class ht{constructor(t){this.backend=t}async getIndices(){return ct().parse(await(await fetch(this.backend+"/indices-list",{})).text())}async callClipService(t,e,i,r,s,n,o,a,l,c,h,u,d,p){return console.log("calling",t,n),ct().parse(await(await fetch(this.backend+"/knn-service",{method:"POST",body:JSON.stringify({text:t,image:e,image_url:i,embedding_input:r,modality:s,num_images:n,indice_name:o,num_result_ids:a,use_mclip:l,deduplicate:c,use_safety_model:h,use_violence_detector:u,aesthetic_score:d,aesthetic_weight:p})})).text())}async getMetadata(t,e){return ct().parse(await(await fetch(this.backend+"/metadata",{method:"POST",body:JSON.stringify({ids:t,indice_name:e})})).text())}}customElements.define("clip-front",class extends nt{constructor(){super(),window.fetch("config.json").then(t=>t.json()).then(t=>{this.defaultIndex=t.defaultIndex,this.defaultBackend=t.defaultBackend,this.urlColumn=t.urlColumn||"url",this.init()})}async init(){const t=new URLSearchParams(window.location.search),e=t.get("back"),i=t.get("index"),r=t.get("query"),s=t.get("useMclip"),n=t.get("imageUrl");this.currentIndex=null!=i?i:null===e||e===this.defaultBackend?this.defaultIndex:"",this.backendHost=null!=e?e:this.defaultBackend,this.text=null!=r?r:"",this.useMclip=null!=s&&"true"===s,this.service=new ht(this.backendHost),this.numImages=40,this.numResultIds=3e3,this.lastMetadataId=null,this.onGoingMetadataFetch=!1,this.indices=[],this.images=[],this.modality="image",this.blacklist={},this.lastSearch="text",this.displayCaptions=!0,this.displaySimilarities=!1,this.displayFullCaptions=!1,this.safeMode=!0,this.removeViolence=!0,this.firstLoad=!0,this.imageUrl=null===n?void 0:n,this.hideDuplicateUrls=!0,this.hideDuplicateImages=!0,this.aestheticScore="",this.aestheticWeight="0.5",await this.initIndices(),this.postInit()}setBackendToDefault(){this.backendHost=this.defaultBackend,this.initIndices(!0)}async initIndices(t){await this.service.getIndices().then(e=>{this.indices=e,(t||""===this.currentIndex)&&(this.currentIndex=this.indices[0])}).catch(e=>{console.error(e),t||this.setBackendToDefault()})}static get properties(){return{service:{type:Object},images:{type:Array},image:{type:String},imageUrl:{type:String},text:{type:String},numImages:{type:Number},modality:{type:String},indices:{type:Array},currentIndex:{type:String},backendHost:{type:String},blacklist:{type:Object},displaySimilarities:{type:Boolean},displayCaptions:{type:Boolean},displayFullCaptions:{type:Boolean},safeMode:{type:Boolean},removeViolence:{type:Boolean},hideDuplicateUrls:{type:Boolean},hideDuplicateImages:{type:Boolean},useMclip:{type:Boolean},aestheticWeight:{type:String},aestheticScore:{type:String}}}postInit(){this.shadowRoot.getElementById("searchBar").addEventListener("keyup",t=>{13===t.keyCode&&this.textSearch()});const t=this.shadowRoot.getElementById("products");window.onscroll=()=>{window.innerHeight+window.pageYOffset>=t.offsetHeight&&this.fetchMoreMetadata()}}async initialScroll(){const t=this.shadowRoot.getElementById("products");let e=0;for(;window.innerHeight+window.pageYOffset>=t.offsetHeight&&(await this.fetchMoreMetadata(),e+=1,!(e>5)););}updated(t){t.has("backendHost")&&(this.service.backend=this.backendHost,this.initIndices(!this.firstLoad),this.firstLoad=!1,this.setUrlParams()),t.has("currentIndex")&&this.setUrlParams(),t.has("image")&&void 0!==this.image?this.imageSearch():t.has("imageUrl")&&void 0!==this.imageUrl?this.imageUrlSearch():(t.has("useMclip")||t.has("modality")||t.has("currentIndex")||t.has("hideDuplicateUrls")||t.has("hideDuplicateImages")||t.has("safeMode")||t.has("removeViolence")||t.has("aestheticScore")||t.has("aestheticWeight"))&&(void 0===this.image&&""===this.text&&void 0===this.imageUrl||this.redoSearch())}async redoSearch(){"text"===this.lastSearch?this.textSearch():"image"===this.lastSearch?this.imageSearch():"imageUrl"===this.lastSearch&&this.imageUrlSearch()}setUrlParams(){const t=new URLSearchParams(window.location.search);""!==this.text?t.set("query",this.text):t.delete("query"),void 0!==this.imageUrl?t.set("imageUrl",this.imageUrl):t.delete("imageUrl"),t.set("back",this.backendHost),t.set("index",this.currentIndex),t.set("useMclip",this.useMclip),window.history.pushState({},"","?"+t.toString())}async fetchMoreMetadata(t=40){if(this.onGoingMetadataFetch)return;if(this.onGoingMetadataFetch=!0,console.log("fetching more metadata starting from position",this.lastMetadataId),null===this.lastMetadataId)return void(this.onGoingMetadataFetch=!1);if((t=Math.min(t,this.numResultIds-this.lastMetadataId-1))<=0)return void(this.onGoingMetadataFetch=!1);const e=this.images.slice(this.lastMetadataId+1,this.lastMetadataId+t+1).map(t=>t.id);try{const i=Object.fromEntries((await this.service.getMetadata(e,this.currentIndex)).map(({id:t,metadata:e})=>[t,e]));this.images=this.images.map(t=>(void 0!==i[t.id]&&(t={...i[t.id],...t}),t)),this.lastMetadataId+=t}catch(t){console.log(t)}this.onGoingMetadataFetch=!1}callClip(t=null){const e=void 0===this.text?null:this.text,i=void 0===this.image?null:this.image,r=void 0===this.imageUrl?null:this.imageUrl,s=null===t?this.numImages:t,n=null===t?this.numResultIds:t;return this.service.callClipService(e,i,r,null,this.modality,s,this.currentIndex,n,this.useMclip,this.hideDuplicateImages,this.safeMode,this.removeViolence,this.aestheticScore,this.aestheticWeight)}async download(){const t="image"===this.modality&&this.currentIndex===this.indices[0]?1e4:100,e=await this.callClip(t);!function(t,e){const i=document.createElement("a");i.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(e)),i.setAttribute("download","clipsubset.json"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}(0,JSON.stringify(e,null,2))}async textSearch(){if(""===this.text)return;this.image=void 0,this.imageUrl=void 0;const t=await this.callClip();console.log(t),this.images=t,this.lastMetadataId=Math.min(this.numImages,t.length)-1,this.lastSearch="text",this.setUrlParams(),setTimeout(()=>this.initialScroll(),0)}async imageSearch(){this.text="",this.imageUrl=void 0;const t=await this.callClip();console.log(t),this.images=t,this.lastMetadataId=Math.min(this.numImages,t.length)-1,this.lastSearch="image",this.setUrlParams(),setTimeout(()=>this.initialScroll(),0)}async imageUrlSearch(){this.text="",this.image=void 0;const t=await this.callClip();console.log(t),this.images=t,this.lastMetadataId=Math.min(this.numImages,t.length)-1,this.lastSearch="imageUrl",this.setUrlParams(),setTimeout(()=>this.initialScroll(),0)}static get styles(){return o`
    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    input:-webkit-autofill:active {
        -webkit-transition: "color 9999s ease-out, background-color 9999s ease-out";
        -webkit-transition-delay: 9999s;
    }

    figcaption {
      display: table-caption;
      caption-side: bottom;
      background: #fff;
      padding: 0 0px 0px;
    }

    #searchBar, #searchBar:hover, #searchBar:focus, #searchBar:valid {
      border-radius: 25px;
      border-color: #ddd;
      background-color:white;
      border-width:1px;
      width:85%;
      padding:15px;
      outline: none;
      border-style: solid;
      font-size:16px;
      font-family:arial, sans-serif;
    }
    #searchBar:hover, #searchBar:focus {
      box-shadow: 0px 0px 7px  #ccc;
    }
    #all {
      margin-left:2%;
      margin-right:2%;
      margin-top:2%;
    }
    #inputSearchBar:hover > #searchBar {
      box-shadow: 0px 0px 7px  #ccc !important;
    }
    #download {
      width: 22px;
      margin-left:0.5%;
      vertical-align:middle;
      cursor:pointer;
    }
    #imageSearch {
      width: 22px;
      margin-left:0.5%;
      vertical-align:middle;
      cursor:pointer;
    }
    #textSearch {
      width: 22px;
      margin-left:1.5%;
      vertical-align:middle;
      cursor:pointer;
    }
    .subImageSearch {
      width: 22px;
      height: 22px:
      cursor:pointer;
      float:right;
      z-index:90;
      display:None;
    }
    .subTextSearch {
      width: 22px;
      height: 22px:
      cursor:pointer;
      margin-left:5%;
      margin-right:5%;
      float:right;
      z-index:90;
      display:None;
    }
    figure:hover > .subImageSearch {
      display:inline;
      cursor:pointer;
    }
    figure:hover > .subTextSearch {
      display:inline;
      cursor:pointer;
    }
    #products {
      margin-top:50px;
      width:85%;
      float:right;
      display: inline-grid;
    }
    @media (min-width: 500px) {
      #products {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (min-width: 700px) {
      #products{
        grid-template-columns: repeat(4, 1fr);
      }
    }
    
    @media (min-width: 1000px) {
      #products {
        grid-template-columns: repeat(5, 1fr);
      }
    }
    
    @media (min-width: 1300px) {
      #products {
        grid-template-columns: repeat(7, 1fr);
      }
    }
    
    @media (min-width: 1600px) {
      #products{
        grid-template-columns: repeat(8, 1fr);
      }
    }
    #filter {
      position:absolute;
      top:20px;
      width:12%;
      float:left;
    }
    #searchLine {
      margin-left:15%;
    }

    figcaption {
      font-size:16px;
    }

    figure,img.pic,figcaption {
      width:150px;
    }

    @media (max-width: 500px) {

      #searchBar, #searchBar:hover, #searchBar:focus, #searchBar:valid {
        width:60%;
      }
      #filter {
        font-size:14px;
        width:100px;
      }

      #products {
        grid-template-columns: repeat(3, 1fr);
      }
      figure,img.pic,figcaption {
      width:70px;
      }
      #searchLine {
        margin-left:100px;
      }

      figcaption {
        font-size:12px;
      }

    #products {
      width:60%;
    }
    }

    `}updateImage(t){const e=new FileReader;e.readAsDataURL(t),e.onload=()=>{this.image=e.result.split(",")[1]},e.onerror=t=>{console.log("Error: ",t)}}renderImage(t){let e;return void 0!==t.image&&(e=`data:image/png;base64, ${t.image}`),void 0!==t[this.urlColumn]&&(e=t[this.urlColumn]),H`
    <figure style="margin:5px;display:table" 
    style=${"margin:1px; "+(void 0!==this.blacklist[e]?"display:none":"display:inline")}>
     ${this.displaySimilarities?H`<p>${t.similarity.toFixed(4)}</p>`:""}
      ${void 0!==t.caption?H`<img src="assets/search.png" class="subTextSearch" @click=${()=>{this.text=t.caption,this.textSearch()}} />`:""}
     
     <img src="assets/image-search.png" class="subImageSearch" @click=${()=>{void 0!==t.image?this.image=t.image:void 0!==t[this.urlColumn]&&(this.imageUrl=t[this.urlColumn])}} />
      <img class="pic" src="${e}" alt="${void 0!==t.caption?t.caption:""}"" 
      title="${void 0!==t.caption?t.caption:""}"
      @error=${()=>{this.blacklist={...this.blacklist,[e]:!0}}} />
      
      ${this.displayCaptions?H`<figcaption>
      ${void 0!==t.caption&&t.caption.length>50&&!this.displayFullCaptions?t.caption.substr(0,50)+"...":t.caption}</figcaption>`:""}
    
    
    </figure>
    `}filterDuplicateUrls(t){const e={};return t.filter(t=>void 0===t[this.urlColumn]||void 0===e[t[this.urlColumn]]&&(e[t[this.urlColumn]]=!0,!0))}render(){if(void 0===this.images)return H`<div id="all"></div>`;const t=this.images.filter(t=>void 0!==t.caption||void 0!==t[this.urlColumn]||void 0!==t.image),e=this.hideDuplicateUrls?this.filterDuplicateUrls(t):t;return H`
    <div id="all">
    <div id="searchLine">
      <span id="inputSearchBar">
        <input id="searchBar" type="text" .value=${this.text} @input=${t=>{this.text=t.target.value}}/>
        <img src="assets/search.png" id="textSearch" @click=${()=>{this.textSearch()}} />
        <img src="assets/image-search.png" id="imageSearch" @click=${()=>{this.shadowRoot.getElementById("filechooser").click()}} />
        <img src="assets/download.png" id="download" @click=${()=>{this.download()}} />
        <input type="file" id="filechooser" style="position:absolute;top:-100px" @change=${()=>this.updateImage(this.shadowRoot.getElementById("filechooser").files[0])}>
      </span>
     
    </div>
    <div id="filter">
    Backend url: <br /><input type="text" style="width:80px" value=${this.backendHost} @input=${t=>{this.backendHost=t.target.value}}/><br />
    Index: <br /><select style="margin-bottom:50px;" @input=${t=>{this.currentIndex=t.target.value}}>${this.indices.map(t=>H`<option value=${t} ?selected=${t===this.currentIndex}>${t}</option>`)}</select><br />
      ${void 0!==this.image?H`<img width="100px" src="data:image/png;base64, ${this.image}"" /><br />`:""}
      ${void 0!==this.imageUrl?H`<img width="100px" src="${this.imageUrl}"" /><br />`:""}
      <a href="https://github.com/rom1504/clip-retrieval">Clip retrieval</a> works by converting the text query to a CLIP embedding
      , then using that embedding to query a knn index of clip image embedddings<br /><br />
      <label>Display captions<input type="checkbox" ?checked="${this.displayCaptions}" @click=${()=>{this.displayCaptions=!this.displayCaptions}} /></label><br />
      <label>Display full captions<input type="checkbox" ?checked="${this.displayFullCaptions}" @click=${()=>{this.displayFullCaptions=!this.displayFullCaptions}} /></label><br />
      <label>Display similarities<input type="checkbox" ?checked="${this.displaySimilarities}" @click=${()=>{this.displaySimilarities=!this.displaySimilarities}} /></label><br />
      <label>Safe mode<input type="checkbox" ?checked="${this.safeMode}" @click=${()=>{this.safeMode=!this.safeMode}} /></label><br />
      <label>Remove violence<input type="checkbox" ?checked="${this.removeViolence}" @click=${()=>{this.removeViolence=!this.removeViolence}} /></label><br />
      <label>Hide duplicate urls<input type="checkbox" ?checked="${this.hideDuplicateUrls}" @click=${()=>{this.hideDuplicateUrls=!this.hideDuplicateUrls}} /></label><br />
      <label>Hide (near) duplicate images<input type="checkbox" ?checked="${this.hideDuplicateImages}" @click=${()=>{this.hideDuplicateImages=!this.hideDuplicateImages}} /></label><br />
      <label>Enable aesthetic scoring<input type="checkbox" ?checked="${""!==this.aestheticScore}" @click=${()=>{this.aestheticScore=""===this.aestheticScore?"9":""}} /></label><br />
      <label>Aesthetic score <select @input=${t=>{this.aestheticScore=t.target.value}}>
        ${["",...Array(10).keys()].map(t=>H`<option ?selected="${this.aestheticScore===t.toString()}" value=${t}>${t}</option>`)}</select></label><br />
      <label>Aesthetic weight<input type="input" value="${this.aestheticWeight}" @input=${t=>{this.aestheticWeight=t.target.value}} /></label><br />
      <label>Search over <select @input=${t=>{this.modality=t.target.value}}>${["image","text"].map(t=>H`<option value=${t} ?selected=${t===this.modality}>${t}</option>`)}</select><br />
      <label>Search with multilingual clip <input type="checkbox" ?checked="${this.useMclip}" @click=${()=>{this.useMclip=!this.useMclip}} /></label><br />
        <p>This UI may contain results with nudity and is best used by adults. The images are under their own copyright.</p>
        <p>Are you seeing near duplicates ? KNN search are good at spotting those, especially so in large datasets.</p>
     </div>

    <div id="products">
    ${e.map(t=>this.renderImage(t))}
    ${this.safeMode&&0!==this.images.length&&0===e.length?"Displaying only nice pictures in safe mode!":""}
    </div>
    </div>
    `}})})()})();
//# sourceMappingURL=main.16f67040.js.map